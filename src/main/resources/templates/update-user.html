<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.w3.org/1999/xhtml" layout:decorate="~{fragments/main_layout}">

<div layout:fragment="content" class="container">
    <div class="col-md-6 col-sm-12 ml-auto mr-auto mt-4 mb-4">
        <!-- Default form register -->
        <form class="text-center border border-light p-5" th:action="@{/updateUser/{id}(id=${getUserId.id})}"
              th:object="${getUserId}"
              method="post">

            <p class="h4 mb-4">Update Profile</p>

            <div class="form-row mb-4">
                <div class="col">
                    <!-- First name -->
                    <input type="text" th:field="*{firstName}" class="form-control" id="firstName"
                           placeholder="FirstName">
                    <p class="text-danger" th:each="error : ${#fields.errors('firstName')}" th:text="${error}">FirstName error</p>
                </div>
                <div class="col">
                    <!-- Last name -->
                    <input type="text" th:field="*{lastName}" class="form-control" id="lastName" placeholder="LastName">
                    <p class="text-danger" th:each="error : ${#fields.errors('lastName')}" th:text="${error}">LastName error</p>
                </div>
            </div>

            <!-- E-mail -->

            <input type="email" th:field="*{email}" class="form-control" id="email" placeholder="Email"
            th:readonly="${getUserId}">
            <p class="text-danger" th:each="error : ${#fields.errors('email')}" th:text="${error}">Email error</p>

<!--            <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="text-danger"></span>-->

            <br>

            <!-- Password -->
            <!--            <input type="password" id="defaultRegisterFormPassword" class="form-control" placeholder="Password"-->
            <!--                   aria-describedby="defaultRegisterFormPasswordHelpBlock">-->
            <!--            <small id="defaultRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">-->
            <!--                At least 8 characters and 1 digit-->
            <!--            </small>-->
                <input type="password" th:field="*{password}" class="form-control" id="defaultRegisterFormPassword" placeholder="Password">
                <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="text-danger"></span>

            <br>

            <input type="password" th:field="*{matchingPassword}" class="form-control" id="matchingPassword" placeholder="Confirm Password">
            <span th:if="${#fields.hasErrors('matchingPassword')}" th:errors="*{matchingPassword}" class="text-danger"></span>

            <br>

            <br>

            <!-- Phone number -->
            <input type="text" id="defaultRegisterPhonePassword" class="form-control" placeholder="Phone number"
                   aria-describedby="defaultRegisterFormPhoneHelpBlock">
            <small id="defaultRegisterFormPhoneHelpBlock" class="form-text text-muted mb-4">
                Optional - for two step authentication
            </small>

            <!-- Sign up button -->
            <button class="btn btn-info my-4 btn-block" type="submit">Update</button>

        </form>

    </div>
</div>
